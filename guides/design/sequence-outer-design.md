# 외부시퀀스설계가이드 

[요청사항]
- <플로우 분류기준>에 따라 최적의 플로우를 결정함  
- <작성원칙>을 준수
- <병렬수행>가이드에 따라 동시 수행 
- [결과파일]안내에 따라 파일 작성
- **PlantUML 스크립트 파일 생성 즉시 검사 실행**: 'PlantUML 문법 검사  가이드' 준용 

[가이드]
<플로우 분류기준>
- **핵심 비즈니스 플로우별**: 사용자가 목표를 달성하기 위한 주요 업무 흐름
- **통합 패턴별**: 동기/비동기, 캐시 활용, 외부 연동 등 기술적 통합 방식
- **사용자 시나리오별**: 엔드투엔드 사용자 경험 기준
- **데이터 흐름별**: 데이터의 생성, 변환, 저장 과정

<작성원칙>
- **해당 플로우에 참여하는** 프론트엔드, 모든 서비스, Gateway, Message Queue, Database, 외부시스템을 참여자로 추가
- **유저스토리와 매칭**되어야 함. **불필요한 추가 처리 금지**
- **논리아키텍처에 정의한 참여자와 일치**해야 함   
- 플로우에 참여자들의 역할과 책임을 명확히 표시
- 플로우 수행에 필요한 프론트엔드부터 End-to-End 호출을 순서대로 표시하고 한글 설명 추가
- 마이크로서비스 내부의 처리 흐름은 표시하지 않음
- **서비스 간 상호작용에 집중** (요청 흐름만 표시, 응답은 생략) 
- 동기/비동기 통신 구분 (실선/점선)
- 캐시, 큐 등 인프라 컴포넌트와의 상호작용 포함

<병렬수행>
- **서브 에이전트를 활용한 병렬 작성 필수**
- 각 플로우는 독립적이므로 동시에 작성 가능
- 플로우별로 별도 에이전트 할당하여 병렬 처리
- 모든 플로우 완료 후 전체 검증

[참고자료]
- 유저스토리
- UI/UX설계서
- 아키텍처패턴
- 논리아키텍처

[예시]


[결과파일]
- **주요 비즈니스 플로우별로 파일을 분리하여 작성**
- 플로우명은 한글로 네이밍 
- 위치: design/backend/sequence/outer/{플로우명}.puml
