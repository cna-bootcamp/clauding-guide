# 외부 시퀀스 설계 가이드 

[요청사항]
- <플로우 분류기준>에 따라 최적의 플로우를 결정함  
- **해당 플로우에 참여하는** 마이크로서비스와 외부 시스템을 참여자로 추가
- 플로우 수행에 필요한 API 호출을 순서대로 표시하고 한글 설명 추가
- 마이크로서비스 내부의 처리 흐름은 표시하지 않음
- **서비스 간 상호작용에 집중** (요청 흐름만 표시, 응답은 생략)
- <작성원칙>을 준수
- <병렬수행>가이드에 따라 동시 수행 
- **주요 비즈니스 플로우별로 파일을 분리하여 작성**
  - 서비스 간 상호작용과 협업을 명확히 보여주기 위함
  - 논리 아키텍처의 사용자 요청 플로우와 일치하도록 구성
  - 각 플로우에서 어떤 서비스들이 어떻게 협력하는지 표현
  - 파일명 규칙: 시퀀스설계서(외부)-{플로우명}.puml
- **PlantUML 스크립트 파일 생성 즉시 검사 실행**: 'PlantUML 문법 검사  가이드' 준용 

[가이드]
<플로우 분류기준>
- **핵심 비즈니스 플로우별**: 사용자가 목표를 달성하기 위한 주요 업무 흐름
- **통합 패턴별**: 동기/비동기, 캐시 활용, 외부 연동 등 기술적 통합 방식
- **사용자 시나리오별**: 엔드투엔드 사용자 경험 기준
- **데이터 흐름별**: 데이터의 생성, 변환, 저장 과정

<작성원칙>
- 하나의 플로우는 사용자의 특정 목표 달성 과정을 표현
- 플로우에 참여하는 서비스들의 역할과 책임을 명확히 표시
- 동기/비동기 통신 구분 (실선/점선)
- 캐시, 큐 등 인프라 컴포넌트와의 상호작용 포함

<병렬수행>
- **서브 에이전트를 활용한 병렬 작성 필수**
- 각 플로우는 독립적이므로 동시에 작성 가능
- 플로우별로 별도 에이전트 할당하여 병렬 처리
- 모든 플로우 완료 후 전체 검증

[참고자료]
- 유저스토리
- UI/UX 설계서
- 논리아키텍처
- API 설계서

[예시]
- 링크: https://raw.githubusercontent.com/cna-bootcamp/clauding-guide/refs/heads/main/samples/sample_시퀀스설계서(외부).puml

[결과파일]
- design/backend/sequence/outer/{플로우명}.puml
