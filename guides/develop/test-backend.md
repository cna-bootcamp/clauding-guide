# 백엔드 테스트 가이드 
  
[요청사항]  
- <테스트원칙>을 준용하여 수행
- <테스트순서>에 따라 수행
- [결과파일] 안내에 따라 파일 작성 

[가이드]
<개발원칙>
- '테스트코드표준'의 '공통전략'과 'E2E 테스트 전략'을 준용 
- 네이밍룰은 '테스트코드표준'에 정의된 패키지, 클래스, 메소드, 테스트 데이터 네이밍룰을 준용  
- '개발주석표준'에 맞게 주석 작성
- 테스트 코드 개발 툴은 'Mockito'를 사용  
<개발순서>
- 준비:
  - 데이터베이스설치결과서, 캐시설치결과서, MQ설치결과서, 테스트코드표준 분석 및 이해  
- 실행:  
  - E2E 테스트 코드 작성
    - 각 서비스의 API들을 테스트하는 코드 작성
    - 테스트 Class에 @ActiveProfile("e2e-test")로 지정
    - @SpringBootTest와 WebTestClient 사용
    - 각 서비스별로 서브에이젼트를 사용하여 동시 작성
    - common 모듈은 공통 라이브러리이므로 제외  
  - E2E 테스트 수행 및 오류 해결 
    - 각 서비스별로 서브에이젼트를 사용하여 동시 수행
    - 백킹서비스는 데이터베이스설치결과서, 캐시설치결과서, MQ설치결과서를 보고 설치된 서비스를 로컬에서 연결하여 수행  
    - Kubernetes에 배포된 백킹서비스는 port forward하여 연결 
    - 테스트가 모두 성공할 때까지 계속 수행 
  - 설정 Manifest(src/main/resources/application*.yml) 변경  
    - 테스트 결과를 이용하여 Manifest를 검토하여 필요 시 수정  
    - 각 항목의 값은 하드코딩하지 않고 환경변수 처리
  - 결과: test-backend.md
- 검토:
  - <개발원칙> 준수 검토
  - 스쿼드 팀원 리뷰: 누락 및 개선 사항 검토
  - 수정 사항 선택 및 반영 

[참고자료]
- 데이터베이스설치결과서
- 캐시설치결과서
- MQ설치결과서
- 테스트코드표준
  
[결과파일]
- develop/dev/test-backend.md